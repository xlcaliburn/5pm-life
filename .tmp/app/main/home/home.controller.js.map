{"version":3,"sources":["app/main/home/home.controller.js"],"names":[],"mappings":"AAAA;;AAEA,CAAC,YAAW;AACR,YACC,MADD,CACQ,WADR,EAEC,UAFD,CAEY,gBAFZ,EAE8B,cAF9B;;;AAKA,aAAS,cAAT,CAAwB,KAAxB,EAA+B,QAA/B,EAAyC;AACrC,YAAI,OAAO,IAAX;;;AAGA,aAAK,KAAL;AACA,aAAK,IAAL;AACA,aAAK,OAAL;AACA,aAAK,MAAL,GAAc,QAAQ,OAAR,CAAgB,eAAhB,CAAd;AACA,aAAK,aAAL,GAAqB,QAAQ,OAAR,CAAgB,gBAAhB,CAArB;AACA,aAAK,iBAAL,GAAyB,QAAQ,OAAR,CAAgB,gBAAhB,CAAzB;;;AAGA,aAAK,MAAL,GAAc,YAAW;AACrB;;;AAGA,iBAAK,aAAL,CAAmB,QAAnB,CAA4B,SAA5B;AACA,iBAAK,OAAL,GAAe,IAAf;;AAEA,gBAAI,cAAc,gBAAlB;;AAEA,gBAAI,WAAJ,EACI,eADJ,KAGI;AACP,SAbD;;;AAgBA,iBAAS,cAAT,GAA0B;AACtB,gBAAI,CAAC,KAAK,IAAL,CAAU,MAAX,IAAqB,KAAK,IAAL,CAAU,SAA/B,IAA4C,CAAC,KAAK,KAAtD,EACI,OAAO,KAAP;AACJ,mBAAO,IAAP;AACH;;;AAGD,iBAAS,YAAT,GAAwB;;;;;;AAMpB,qBAAS,YAAW;AAChB,qBAAK,iBAAL,CAAuB,QAAvB,CAAgC,WAAhC;AACA,qBAAK,MAAL,CAAY,QAAZ,CAAqB,MAArB;AACA,qBAAK,MAAL,CAAY,IAAZ,CAAiB,qEAAjB;AACA,qBAAK,OAAL,GAAe,KAAf;AACH,aALD,EAKG,IALH;AAMH;;;AAGD,iBAAS,YAAT,GAAwB;AACpB,qBAAS,YAAW;AAChB,qBAAK,aAAL,CAAmB,WAAnB,CAA+B,SAA/B;AACA,qBAAK,MAAL,CAAY,QAAZ,CAAqB,SAArB;AACA,qBAAK,MAAL,CAAY,IAAZ,CAAiB,qCAAjB;AACA,qBAAK,OAAL,GAAe,KAAf;AACH,aALD,EAKG,IALH;AAMH;;;AAGD,iBAAS,YAAT,GAAwB;AACpB,iBAAK,MAAL,CAAY,WAAZ,CAAwB,SAAxB;AACA,iBAAK,MAAL,CAAY,IAAZ,CAAiB,EAAjB;AACH;AAEJ;AAEJ,CAzED","file":"app/main/home/home.controller.js","sourcesContent":["'use strict';\r\n\r\n(function() {\r\n    angular\r\n    .module('fivepmApp')\r\n    .controller('HomeController', HomeController);\r\n\r\n    /** @ngInject */\r\n    function HomeController($http, $timeout) {\r\n        var self = this;\r\n\r\n        // global variables\r\n        self.email;\r\n        self.form;\r\n        self.loading;\r\n        self.status = angular.element('.login-status');\r\n        self.submit_button = angular.element('.submit-button');\r\n        self.section_container = angular.element('.login-section');\r\n\r\n        // submit email for verification\r\n        self.submit = function() {\r\n            clear_errors();\r\n\r\n            // update front end\r\n            self.submit_button.addClass(\"loading\");\r\n            self.loading = true;\r\n\r\n            var legit_email = validate_email();\r\n\r\n            if (legit_email)\r\n                submit_email();\r\n            else\r\n                notify_error();\r\n        }\r\n\r\n        // validate email address\r\n        function validate_email() {\r\n            if (!self.form.$valid || self.form.$pristine || !self.email)\r\n                return false;\r\n            return true;\r\n        }\r\n\r\n        // save email address in db\r\n        function submit_email() {\r\n\r\n            // do $http request to save email\r\n\r\n            // update front end\r\n\r\n            $timeout(function() {\r\n                self.section_container.addClass(\"status-ok\");\r\n                self.status.addClass(\"teal\");\r\n                self.status.html('Thank you for signing up. We\\'ll notify you when the BETA is ready!');\r\n                self.loading = false;\r\n            }, 1000);\r\n        }\r\n\r\n        // notify errors on invalid email\r\n        function notify_error() {\r\n            $timeout(function() {\r\n                self.submit_button.removeClass(\"loading\");\r\n                self.status.addClass(\"invalid\");\r\n                self.status.html('Please enter a valid email address.');\r\n                self.loading = false;\r\n            }, 1000);\r\n        }\r\n\r\n        // clear errors on submit\r\n        function clear_errors() {\r\n            self.status.removeClass(\"invalid\");\r\n            self.status.html('');\r\n        }\r\n\r\n    }\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}