{"version":3,"sources":["api/tags/routes.js"],"names":[],"mappings":";;AAAA;;AAEA,IAAI,WAAW,QAAQ,UAAR,CAAf;;AAEA,IAAI,QAAQ,SAAS,KAAT,CAAe,OAAf,CAAZ;AACA,IAAI,OAAS,MAAM,IAAN,CAAW,EAAC,MAAO,KAAR,EAAX,CAAb;;AAEA,IAAI,SAAS,qBAAb;AACA,OAAO,GAAP,CAAW,GAAX,EAAgB,UAAS,GAAT,EAAa,GAAb,EAAkB;AAChC,MAAK,IAAL,CAAU,UAAS,GAAT,EAAc,IAAd,EAAoB;AAC7B,MAAI,GAAJ,EACC,IAAI,IAAJ,CAAS,GAAT;;AAED,MAAI,IAAJ,CAAS,IAAT;AACA,EALD;AAMA,CAPF;;AASA,OAAO,IAAP,CAAY,GAAZ,EAAiB,UAAS,GAAT,EAAc,GAAd,EAAmB;AAClC,OAAM,MAAN,CAAa;AACX,QAAO,KADI;AAEX,aAAY,IAAI,IAAJ,CAAS;AAFV,EAAb,EAGI,UAAS,GAAT,EAAc,IAAd,EAAoB;AACvB,MAAI,GAAJ,EACC,IAAI,IAAJ,CAAS,GAAT;;AAED,OAAK,IAAL,CAAU,UAAS,GAAT,EAAc,IAAd,EAAoB;AAC7B,OAAI,GAAJ,EACC,IAAI,IAAJ,CAAS,GAAT;AACD,OAAI,IAAJ,CAAS,IAAT;AACA,GAJD;AAKA,EAZD;AAaA,CAdF;;AAgBA,OAAO,MAAP,CAAc,UAAd,EAA0B,UAAS,GAAT,EAAc,GAAd,EAAmB;AAC3C,OAAM,MAAN,CAAa;AACZ,OAAM,IAAI,MAAJ,CAAW;AADL,EAAb,EAEG,UAAS,GAAT,EAAc,IAAd,EAAoB;AACtB,MAAI,GAAJ,EACC,IAAI,IAAJ,CAAS,GAAT;;;AAGD,OAAK,IAAL,CAAU,UAAS,GAAT,EAAc,IAAd,EAAoB;AAC7B,OAAI,GAAJ,EACC,IAAI,IAAJ,CAAS,GAAT;AACD,OAAI,IAAJ,CAAS,IAAT;AACA,GAJD;AAKA,EAZD;AAaA,CAdF;;AAgBA,OAAO,OAAP,GAAiB,MAAjB","file":"api/tags/routes.js","sourcesContent":["import {Router} from 'express';\r\n\r\nvar mongoose = require('mongoose');\r\n\r\nvar Enums = mongoose.model('Enums');\r\nvar Tags \t\t= Enums.find({type : 'tag'});\r\n\r\nvar router = new Router();\r\nrouter.get('/', function(req,res) {\r\n\t\tTags.find(function(err, data) {\r\n\t\t\tif (err)\r\n\t\t\t\tres.send(err);\r\n\r\n\t\t\tres.json(data);\r\n\t\t});\r\n\t});\r\n\r\nrouter.post('/', function(req, res) {\r\n\t\tEnums.create({\r\n\t\t\t\ttype : \"tag\",\r\n\t\t\t\tenum_name : req.body.tag_name\r\n\t\t }, function(err, data) {\r\n\t\t\tif (err)\r\n\t\t\t\tres.send(err);\r\n\r\n\t\t\tTags.find(function(err, data) {\r\n\t\t\t\tif (err)\r\n\t\t\t\t\tres.send(err)\r\n\t\t\t\tres.json(data);\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\nrouter.delete('/:tag_id', function(req, res) {\r\n\t\tEnums.remove({\r\n\t\t\t_id : req.params.tag_id\r\n\t\t}, function(err, data) {\r\n\t\t\tif (err)\r\n\t\t\t\tres.send(err);\r\n\r\n\t\t\t// get and return all the todos after you create another\r\n\t\t\tTags.find(function(err, data) {\r\n\t\t\t\tif (err)\r\n\t\t\t\t\tres.send(err)\r\n\t\t\t\tres.json(data);\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\nmodule.exports = router;\r\n"],"sourceRoot":"/source/"}